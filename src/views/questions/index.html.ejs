<h1>Preguntas de <%= user.name %> ordenadas por <%= order %></h1>

<ul>



  <% if (order == 'Nombre') {%>
  <% questions.sort(function(a,b){ %>
  	  <% return -(b.title).localeCompare(a.title)})} %>

  <% if (order == 'Fecha de creación') {%>
  <% questions.sort(function(a,b){ %>
  	  <% return -((b.updatedAt) - (a.updatedAt))})} %>

  <% questions.forEach((question) => { %>
    <li><h3><a href="<%=questionPathBuilder(question)%>"><%=question.title%></a></h3></li>
    <% const qua = question.updatedAt %>
    <% var minutes = qua.getMinutes().toString() %>
    <% if (minutes.length == 1) {minutes = "0" + minutes} %>
	<h4>Escrito a las <%= qua.getHours() %>:<%= minutes %> horas el día <%= qua.getDate() %>/<%= qua.getMonth() + 1 %>/<%= qua.getYear() + 1900 %> </h4>
  <h4>Votes: <%=question.votes_sum%></h4>

    <form action="/questions/upvoteQuestion/<%= question.id %>"  method="post">
      <input type="hidden" name="_method" value="patch" />
    
      <div>
        <input type="submit" value="Upvote Question" />
      </div>
    
    </form>

    <form action="/questions/downvoteQuestion/<%= question.id %>" method="post">
    <input type="hidden" name="_method" value="patch" />
    
      <div>
        <input type="submit"  value="Downvote Question" />
      </div>
    
  </form>

	<br>
  <% }) %>
  <% if (questions.length == 0) { %>
  	<h3>No tienes ninguna pregunta abierta.</h3>
  <% } %>
</ul>

<form action="<%= newQuestionPath %>" method="get">
  <div>
    <input type="submit" name="new" value="Create A Question" />
  </div>
</form>

<br>

<form action="<%= userPath %>" method="get">
  <div>
    <input type="submit" name="show" value="Back To User" />
  </div>
</form>

<br>

<form action="<%= sortedQuestionsPathBuilder('Nombre') %>" method="get">
  <div>
    <input type="submit" name="sort" value="Order By Name" />
  </div>
</form>

<br>

<form action="<%= sortedQuestionsPathBuilder('Fecha de creación') %>" method="get">
  <div>
    <input type="submit" name="sort" value="Order By Time Of Updating" />
  </div>
</form>

